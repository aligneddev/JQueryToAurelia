<template>
	<require from="./energyDataRowTemplate.html"></require>
	<section class="au-animate">
		<div class="row">
			<h1>Energy with Aurelia</h1>
		</div>
		<div class="row">

			Energy information from: https://datamarket.azure.com/browse/data?price=free, https://api.datamarket.azure.com/UnitedNations/Energy/
			<br /> Units in <span id="unit"></span>
		</div>
		<div class="row">
			<select value.bind="selectedOption" change.delegate="yearOptionSelected(selectedOption)">
                <option repeat.for="option of yearOptions" value.bind="option">
                    ${option}
                </option>
            </select>
		</div>

		<div class="row" style="margin-top: 20px; max-width:900px;" if.bind="showEnergyDataTable">
			<div class="table-responsive">
				<table id="dataTable" class="table table-condensed table-hover">
					<thead>
						<tr>
							<th>#</th>
							<th>Country</th>
							<th>Quantity</th>
						</tr>
					</thead>
					<tbody>
						<!--http://aurelia.io/hub.html#/doc/article/aurelia/framework/latest/cheat-sheet/4-->
						<tr repeat.for="rowVm of energyData" as-element="compose" view="./energyDataRowTemplate.html" click.delegate="rowVm.showDetails()">
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</section>
</template>